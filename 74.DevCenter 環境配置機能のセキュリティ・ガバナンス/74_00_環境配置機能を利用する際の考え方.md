# 環境配置機能を利用する場合の考え方

環境配置機能を利用してユーザに Azure リソースを自由に触ってもらう場合、それらのリソースを Azure Security Benchmark に完全に準拠させるように使ってもらうのは非現実的です。このため考え方として、以下のように整理するとよいでしょう。

- 通常の環境や管理用のサブスクリプションについては Azure Security Benchmark に準拠させる
- PoC サブスクリプションやサンドボックスサブスクリプションは Azure Security Benchmark に準拠させることを求めないが、**Azure Security Benchmark 自体は適用しておき、状態を見える化しておく**。
- MDfC, Azure Policy を見るときはサブスクリプションフィルタ機能で PoC サブスクリプションやサンドボックスサブスクリプションを除外して確認するが、あまりにもずさんなセキュリティ状態でないか否か、攻撃されていないかについては確認する。
- **リスクを低減するため、定期的に環境をリセット（削除）する。**

DevCenter が存在する Dev1 サブスクリプションは、ユーザが自由に触るサブスクリプションはありません。このため、MDfC, Azure Policy によるチェックをかけ、違反項目について適切な対処を行っていきます。

## Azure Policy 違反項目への対応

Azure Policy により発見された違反項目に対して、以下のいずれかの対応を行います。

- Remediation : リソースの構成違反を修正・是正する
- Exemption
  - Mitigated : 実質的に違反を起こしていない（ポリシーの意図は満たされている）ため、適用を除外する
  - Waiver : ポリシーの意図が満たされていないが、当該システムではリスクを受容する
  - Waiver - PoC/Test : ポリシーの意図が満たされていないが、テスト目的であるためリスクを受容する（＝本番環境ではきちんと是正すべき）
- Disabled : ポリシーそのものが何らかの理由により不適切であるため、ポリシーそのものを無効化する
